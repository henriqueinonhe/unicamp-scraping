{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Models/ClassEntry.ts","webpack:///./src/Models/ClassScheduleEntry.ts","webpack:///./src/Models/DayTime.ts","webpack:///./src/Models/InstituteEntry.ts","webpack:///./src/Models/ProfessorProfile.ts","webpack:///./src/Models/SubjectEntry.ts","webpack:///./src/database.ts","webpack:///./src/index.ts","webpack:///./src/scraping.ts","webpack:///./src/utils.ts","webpack:///external \"chalk\"","webpack:///external \"dotenv\"","webpack:///external \"mongodb\"","webpack:///external \"puppeteer\""],"names":[],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.ts\");\n","import { ClassScheduleEntry } from \"./ClassScheduleEntry\";\r\n\r\nexport class ClassEntry\r\n{\r\n  constructor(professors : Array<string>, schedule : Array<ClassScheduleEntry>)\r\n  {\r\n    this.professors = professors;\r\n    this.schedule = schedule;\r\n  }\r\n\r\n  public professors : Array<string>;\r\n  public schedule : Array<ClassScheduleEntry>;\r\n}","import { DayTime } from \"./DayTime\";\r\n\r\nexport class ClassScheduleEntry\r\n{\r\n  constructor(weekDay : string, beginTime : DayTime, endTime : DayTime, classRoom : string)\r\n  {\r\n    this.weekDay = weekDay;\r\n    this.beginTime = beginTime;\r\n    this.endTime = endTime;\r\n    this.classRoom = classRoom;\r\n  }\r\n\r\n  public weekDay : string;\r\n  public beginTime : DayTime;\r\n  public endTime : DayTime;\r\n  public classRoom : string;\r\n}","export class DayTime\r\n{\r\n  constructor(hour : number, minute : number)\r\n  {\r\n    if(!(0 <= hour && hour <= 23))\r\n    {\r\n      throw new Error(`Hour must be within 0 and 23, but \"${hour}\" was received!`);\r\n    }\r\n\r\n    if(!(0 <= minute && minute <= 59))\r\n    {\r\n      throw new Error(`Minute must be within 0 and 59, but \"${minute} was received!`);\r\n    }\r\n\r\n    this.hour = hour;\r\n    this.minute = minute;\r\n  }\r\n\r\n  public static fromString(string : string) : DayTime\r\n  {\r\n    if(!/^\\d\\d:\\d\\d$/.test(string))\r\n    {\r\n      throw new Error(\"Invalid DayTime string format!\");\r\n    }\r\n\r\n    const [hourString, minuteString] = string.split(\":\");\r\n    return new DayTime(parseInt(hourString), parseInt(minuteString));\r\n  }\r\n\r\n  public getHour() : number\r\n  {\r\n    return this.hour;\r\n  }\r\n\r\n  public getMinute() : number\r\n  {\r\n    return this.minute;\r\n  }\r\n\r\n  public compare(other : DayTime) : number\r\n  {\r\n    if(this.hour < other.hour)\r\n    {\r\n      return -1;\r\n    }\r\n    else if(this.hour > other.hour)\r\n    {\r\n      return 1;\r\n    }\r\n    else\r\n    {\r\n      if(this.minute < other.minute)\r\n      {\r\n        return -1;\r\n      }\r\n      else if(this.minute > other.minute)\r\n      {\r\n        return 1;\r\n      }\r\n      else\r\n      {\r\n        return 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  private hour : number;\r\n  private minute : number;  \r\n}","import { SubjectEntry } from \"./SubjectEntry\";\r\n\r\nexport class InstituteEntry\r\n{\r\n  constructor(acronym : string, name : string, link : string)\r\n  {\r\n    this.acronym = acronym;\r\n    this.name = name;\r\n    this.link = link;\r\n    this.subjectEntries = [];\r\n  }\r\n\r\n  public static deserialize(object : object) : InstituteEntry\r\n  {\r\n    const {acronym, name, link, subjectEntries} = object as InstituteEntry;\r\n    const entry = new InstituteEntry(acronym, name, link);\r\n    entry.subjectEntries = subjectEntries;\r\n    return entry;\r\n  }\r\n\r\n  public acronym : string;\r\n  public name : string;\r\n  public link : string;\r\n  public subjectEntries : Array<SubjectEntry>;\r\n}","import { DayTime } from \"./DayTime\";\r\n\r\ninterface Institute\r\n{\r\n  acronym : string;\r\n  name : string;\r\n}\r\n\r\ninterface Subject\r\n{\r\n  code : string;\r\n  name : string;\r\n}\r\n\r\ninterface Class\r\n{\r\n  weekDay : string;\r\n  beginTime : DayTime;\r\n  endTime : DayTime;\r\n  classRoom : string;\r\n  subjectCode : string;\r\n}\r\n\r\nexport class ProfessorProfile\r\n{\r\n  constructor(name : string)\r\n  {\r\n    this.name = name;\r\n    this.institutes = [];\r\n    this.subjects = [];\r\n    this.classes = [];\r\n  }\r\n\r\n  public name : string;\r\n  public institutes : Array<Institute>;\r\n  public subjects : Array<Subject>;\r\n  public classes : Array<Class>;\r\n}","import { ClassEntry } from \"./ClassEntry\";\r\n\r\nexport class SubjectEntry\r\n{\r\n  constructor(code : string, name : string, link : string)\r\n  {\r\n    this.code = code;\r\n    this.name = name;\r\n    this.link = link;\r\n    this.classEntries = [];\r\n  }\r\n\r\n  public code : string;\r\n  public name : string;\r\n  public link : string;\r\n  public classEntries : Array<ClassEntry>;\r\n}","import mongodb from \"mongodb\";\r\nimport { ProfessorProfile } from \"./Models/ProfessorProfile\";\r\nimport { InstituteEntry } from \"./Models/InstituteEntry\";\r\n\r\nexport class Database\r\n{\r\n  public static async storeProfessorsProfiles(profiles : Array<ProfessorProfile>) : Promise<void>\r\n  {\r\n    //Database Connect\r\n    const mongoURI = process.env.DB_URI!;\r\n    const mongoClient = new mongodb.MongoClient(mongoURI, { useUnifiedTopology: true });\r\n    await mongoClient.connect();\r\n\r\n    //Save data in database\r\n    const database = mongoClient.db();\r\n    const collection = database.collection(\"professors\");\r\n    await collection.deleteMany({});\r\n    await collection.insertMany(profiles);\r\n\r\n    //Close Connection\r\n    await mongoClient.close();\r\n  }\r\n\r\n  public static async storeCrudeData(entries : Array<InstituteEntry>) : Promise<void>\r\n  {\r\n    //Database Connect\r\n    const mongoURI = process.env.DB_URI!;\r\n    const mongoClient = new mongodb.MongoClient(mongoURI, { useUnifiedTopology: true });\r\n    await mongoClient.connect();\r\n\r\n    //Save data in database\r\n    const database = mongoClient.db();\r\n    const collection = database.collection(\"crudeData\");\r\n    await collection.deleteMany({});\r\n    await collection.insertMany(entries);\r\n\r\n    //Close Connection\r\n    await mongoClient.close();\r\n  }\r\n\r\n  public static async fetchProfessorsInitialData() : Promise<Array<ProfessorProfile>>\r\n  {\r\n    //Database Connect\r\n    const mongoURI = process.env.DB_URI!;\r\n    const mongoClient = new mongodb.MongoClient(mongoURI, { useUnifiedTopology: true });\r\n    await mongoClient.connect();\r\n\r\n    //Fetch\r\n    const database = mongoClient.db();\r\n    const collection = database.collection(process.env.DB_COLLECTION!);\r\n    const data = await collection.find({}).project({name: 1}).toArray(); //FIXME\r\n\r\n    //Close Connection\r\n    await mongoClient.close();\r\n\r\n    return data as Array<ProfessorProfile>;\r\n  }\r\n}","import dotenv from \"dotenv\";\r\nimport express from \"express\";\r\nimport { Database } from \"./Database\";\r\nimport { scrapeData } from \"./scraping\";\r\n\r\n//Initalization\r\ndotenv.config();\r\n\r\nscrapeData();\r\n\r\n// const app = express();\r\n\r\n// app.use(express.json());\r\n// app.use(express.static(\"public\"));\r\n\r\n// app.get(\"/professors\", async (req, res) =>\r\n// {\r\n//   res.send(await Database.fetchProfessorsInitialData());\r\n// });\r\n\r\n// app.listen(process.env.PORT || 8080, () =>\r\n// {\r\n//   console.log(\"Server up!\");\r\n// });\r\n","import puppeteer from \"puppeteer\";\r\nimport { Database } from \"./database\";\r\nimport { InstituteEntry } from \"./Models/InstituteEntry\";\r\nimport { SubjectEntry } from \"./Models/SubjectEntry\";\r\nimport { ClassEntry } from \"./Models/ClassEntry\";\r\nimport { ClassScheduleEntry } from \"./Models/ClassScheduleEntry\";\r\nimport { DayTime } from \"./Models/DayTime\";\r\nimport { ProfessorProfile } from \"./Models/ProfessorProfile\";\r\nimport { startTimer, endTimer, printProgressBar } from \"./utils\";\r\nimport chalk from \"chalk\";\r\n\r\nasync function scrapInstituteEntries(page : puppeteer.Page) : Promise<Array<InstituteEntry>>\r\n{\r\n  console.log(chalk.yellow(\"Scrapping Institute Entries:\"));\r\n  const timer = startTimer();\r\n\r\n  await page.goto(\"https://www.dac.unicamp.br/portal/caderno-de-horarios/2020/1/S/G\");\r\n\r\n  const instituteEntries : Array<InstituteEntry> = [];\r\n  const instituteNodes = await page.$$(\".lista-oferecimento a\");\r\n  let instituteCounter = 1;\r\n  for(const node of instituteNodes)\r\n  {\r\n    const text = await node.evaluate(element => element.textContent);\r\n    const whitespaceStrippedText = text?.replace(/ {2,}/g, \"\");\r\n    const [acronym, name] = whitespaceStrippedText!.split(\"\\n\").filter(str => str !== \"\");\r\n    const link = await node.evaluate(element => element.getAttribute(\"href\"));\r\n\r\n    instituteEntries.push(new InstituteEntry(acronym, name, link!));\r\n\r\n    //Feedback\r\n    process.stdout.clearLine(1);\r\n    process.stdout.write(`\\rInstitute ${instituteCounter} of ${instituteNodes.length} `);\r\n    printProgressBar(instituteCounter, instituteNodes.length);\r\n    instituteCounter++;\r\n  }\r\n\r\n  process.stdout.write(\"\\n\");\r\n  endTimer(timer, \"Scrapping institutes elasped time:\");\r\n  process.stdout.write(\"\\n\");\r\n  \r\n  return instituteEntries;\r\n}\r\n\r\nasync function scrapSubjectEntries(instituteEntries : Array<InstituteEntry>, page : puppeteer.Page) : Promise<void>\r\n{\r\n  console.log(chalk.yellow(\"Scrapping Subject Entries:\"));\r\n  const timer = startTimer();\r\n\r\n  let instituteCounter = 1;\r\n  for(const instituteEntry of instituteEntries)\r\n  {\r\n    const subjectEntries = [];\r\n    const {link} = instituteEntry;\r\n    await page.goto(link);\r\n    \r\n    const subjectNodes = await page.$$(\".disciplinas-horario a\");\r\n    let subjectCounter = 1;\r\n    for(const node of subjectNodes)\r\n    {\r\n      const text = await node.evaluate(element => element.textContent);\r\n      const whitespaceStrippedText = text?.replace(/ {2,}/g, \"\");\r\n      const [code, name] = whitespaceStrippedText!.split(\"\\n\").filter(str => str !== \"\");\r\n      const link = await node.evaluate(element => element.getAttribute(\"href\"));\r\n      \r\n      subjectEntries.push(new SubjectEntry(code, name, link!));\r\n\r\n      //Feedback\r\n      process.stdout.clearLine(1);\r\n      process.stdout.write(`\\rInstitute ${instituteCounter} of ${instituteEntries.length} `);\r\n      process.stdout.write(`Subject ${subjectCounter} of ${subjectNodes.length} `);\r\n      printProgressBar(instituteCounter, instituteEntries.length);\r\n      subjectCounter++;\r\n    }\r\n\r\n    instituteEntry.subjectEntries = subjectEntries;\r\n    instituteCounter++;\r\n  }\r\n\r\n  process.stdout.write(\"\\n\");\r\n  endTimer(timer, \"Scrapping subjects elapsed time:\");\r\n  process.stdout.write(\"\\n\");\r\n}\r\n\r\nasync function scrapClassEntries(instituteEntries : Array<InstituteEntry>, page : puppeteer.Page) : Promise<void>\r\n{\r\n  const timer = startTimer();\r\n  console.log(chalk.yellow(\"Scraping Class Entries:\"));\r\n\r\n  let instituteCounter = 1;\r\n  for(const instituteEntry of instituteEntries)\r\n  {\r\n    let subjectCounter = 1;\r\n    const subjectEntries = instituteEntry.subjectEntries;\r\n    for(const subjectEntry of subjectEntries)\r\n    {\r\n      const classEntries : Array<ClassEntry> = [];\r\n\r\n      await page.goto(subjectEntry.link);\r\n      const classNodes = await page.$$(\".panel-body\");\r\n    \r\n      for(const node of classNodes)\r\n      {\r\n        const professors = await node.$$eval(\".docentes>li\", array => array.map(element => element.textContent?.replace(/\\s+$/, \"\")!));\r\n        const serializedSchedule = await node.$$eval(\".horariosFormatado>li\", array => array.map(list => \r\n        {\r\n          const weekDay = list.querySelector(\".diaSemana\")?.textContent!;\r\n          const [beginTime, endTime] = list.querySelector(\".horarios\")?.textContent?.split(\" - \")!;\r\n          const classRoom = list.querySelector(\".salaAula\")?.textContent?.trim()!;\r\n\r\n          return {weekDay, beginTime, endTime, classRoom};\r\n        }));\r\n\r\n        //Deserializing\r\n        const schedule = serializedSchedule.map(item => new ClassScheduleEntry(item.weekDay, DayTime.fromString(item.beginTime), DayTime.fromString(item.endTime), item.classRoom));\r\n\r\n        classEntries.push(new ClassEntry(professors, schedule));\r\n\r\n        //Feedback\r\n        process.stdout.clearLine(1);\r\n        process.stdout.write(`\\rInstitute ${instituteCounter} of ${instituteEntries.length} `);\r\n        process.stdout.write(`Subject ${subjectCounter} of ${subjectEntries.length} `);\r\n        printProgressBar(instituteCounter, instituteEntries.length);\r\n      }\r\n\r\n      subjectEntry.classEntries = classEntries;\r\n      subjectCounter++;\r\n    }\r\n\r\n    instituteCounter++;\r\n  }\r\n\r\n  process.stdout.write(\"\\n\");\r\n  endTimer(timer, \"Scraping class entries elasped time: \");\r\n  process.stdout.write(\"\\n\");\r\n}\r\n\r\nfunction weekDayToNumber(weekDay : string) : number\r\n{\r\n  if(weekDay === \"Segunda\")\r\n  {\r\n    return 0;\r\n  }\r\n  else if(weekDay === \"Terça\")\r\n  {\r\n    return 1;\r\n  }\r\n  else if(weekDay === \"Quarta\")\r\n  {\r\n    return 2;\r\n  }\r\n  else if(weekDay === \"Quinta\")\r\n  {\r\n    return 3;\r\n  }\r\n  else if(weekDay === \"Sexta\")\r\n  {\r\n    return 4;\r\n  }\r\n  else if(weekDay === \"Sábado\")\r\n  {\r\n    return 5;\r\n  }\r\n  else if(weekDay === \"Domingo\")\r\n  {\r\n    return 6;\r\n  }\r\n  else\r\n  {\r\n    throw new Error(`Invalid weekDay (\"${weekDay}\")!`);\r\n  }\r\n}\r\n\r\nfunction generateProfessorsProfiles(instituteEntries : Array<InstituteEntry>) : Array<ProfessorProfile>\r\n{\r\n  const professorsProfiles = new Map<string, ProfessorProfile>();\r\n  for(const instituteEntry of instituteEntries)\r\n  {\r\n    const subjectEntries = instituteEntry.subjectEntries;\r\n    for(const subjectEntry of subjectEntries)\r\n    {\r\n      const classEntries = subjectEntry.classEntries;\r\n      for(const classEntry of classEntries)\r\n      {\r\n        const professors = classEntry.professors;\r\n        for(const professor of professors)\r\n        {\r\n          if(!professorsProfiles.has(professor))\r\n          {\r\n            professorsProfiles.set(professor, new ProfessorProfile(professor));\r\n          }\r\n\r\n          const professorProfile = professorsProfiles.get(professor)!;\r\n\r\n          const institutes = professorProfile.institutes;\r\n          const subjects = professorProfile.subjects;\r\n          const classes = professorProfile.classes;\r\n          if(institutes.every(institute => institute.acronym !== instituteEntry.acronym))\r\n          {\r\n            const {name, acronym} = instituteEntry;\r\n            institutes.push({name, acronym});\r\n          }\r\n\r\n          if(subjects.every(subject => subject.code !== subjectEntry.code))\r\n          {\r\n            const {name, code} = subjectEntry;\r\n            subjects.push({name, code});\r\n          }\r\n\r\n          classes.push(... classEntry.schedule.map(entry => \r\n          {\r\n            return {\r\n              weekDay: entry.weekDay,\r\n              beginTime: entry.beginTime,\r\n              endTime: entry.endTime,\r\n              classRoom: entry.classRoom,\r\n              subjectCode: subjectEntry.code\r\n            };\r\n          }));\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  const professorsProfilesAsArray = Array.from(professorsProfiles.values());\r\n\r\n  //Sort Schedule Entries\r\n  for(const profile of professorsProfilesAsArray)\r\n  {\r\n    profile.classes.sort((class1, class2) =>\r\n    {\r\n      if(weekDayToNumber(class1.weekDay) < weekDayToNumber(class2.weekDay))\r\n      {\r\n        return -1;\r\n      }\r\n      else if(weekDayToNumber(class1.weekDay) > weekDayToNumber(class2.weekDay))\r\n      {\r\n        return 1;\r\n      }\r\n      else\r\n      {\r\n        return class1.beginTime.compare(class2.beginTime);\r\n      }\r\n    });\r\n  }\r\n\r\n  return professorsProfilesAsArray;\r\n}\r\n\r\nexport async function scrapeData() : Promise<void> \r\n{\r\n  const browser = await puppeteer.launch({headless: true});\r\n  const page = await browser.newPage();\r\n      \r\n  await page.setRequestInterception(true);\r\n\r\n  //Avoid loading unecessary resources\r\n  page.on(\"request\", (req) => \r\n  {\r\n    if(req.resourceType() === \"stylesheet\" || req.resourceType() === \"font\" || req.resourceType() === \"image\")\r\n    {\r\n      req.abort();\r\n    }\r\n    else \r\n    {\r\n      req.continue();\r\n    }\r\n  });\r\n\r\n  const instituteEntries = await scrapInstituteEntries(page);\r\n  await scrapSubjectEntries(instituteEntries, page);\r\n  await scrapClassEntries(instituteEntries, page);\r\n  const professorsProfiles = generateProfessorsProfiles(instituteEntries);\r\n\r\n  await Database.storeCrudeData(instituteEntries);\r\n  await Database.storeProfessorsProfiles(professorsProfiles);\r\n\r\n  await browser.close();\r\n}","import chalk from \"chalk\";\r\n\r\nexport function formatTimeInterval(seconds : number, nanoseconds : number) : string\r\n{\r\n  const nanosecondsInMiliseconds = 1e6;\r\n  const secondsInMinute = 60;\r\n  \r\n  const formattedMinutes = Math.floor(seconds / secondsInMinute);\r\n  const formattedSeconds = seconds % secondsInMinute;\r\n  const formattedMilliseconds = Math.floor(nanoseconds / nanosecondsInMiliseconds);\r\n\r\n  return chalk.greenBright`${formattedMinutes} minutes, ${formattedSeconds} seconds, ${formattedMilliseconds} milliseconds`;\r\n}\r\n\r\nexport function startTimer() : [number, number]\r\n{\r\n  return process.hrtime();\r\n}\r\n\r\nexport function endTimer(timer : [number, number], message : string) : void\r\n{\r\n  const timeInterval = process.hrtime(timer);\r\n  console.log(`${message} ${formatTimeInterval(timeInterval[0], timeInterval[1])}`);\r\n}\r\n\r\nexport function printProgressBar(current : number, total : number) : void\r\n{\r\n  const percentage = Math.floor(100 * current / total);\r\n  const barLength = 20;\r\n  const barFillLength = Math.floor(percentage / (100 / barLength));\r\n\r\n  process.stdout.write(chalk.blueBright`[${\"=\".repeat(barFillLength)}${\" \".repeat(barLength - barFillLength)}] ${percentage}%`);\r\n}","module.exports = require(\"chalk\");","module.exports = require(\"dotenv\");","module.exports = require(\"mongodb\");","module.exports = require(\"puppeteer\");"],"sourceRoot":""}